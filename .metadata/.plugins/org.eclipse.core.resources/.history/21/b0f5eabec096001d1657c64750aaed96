// 생성자
public class MultiClientThread extends Thread{
	private MultiServer ms;
	private MultiClient mc;
	private MultiServerThread mst;
	
	public MultiClientThread(MultiClient mc){
		this.mc = mc;
	}
	
	
	public void run(){
		String message = null;
		String[] receivedMsg = null;
		boolean isStop = false;
		
		while(!isStop){
			try{
				message = (String)mc.getOis().readObject();
				receivedMsg = message.split("#");
			}
			catch(Exception e){
				e.printStackTrace();
				isStop = true;
			}

			
			System.out.println(receivedMsg.length);
			
			if(receivedMsg[1].equals("exit")){
				if(receivedMsg[0].equals(mc.getNickname())){
					mc.exit();
				}
				else{
					mc.getJta().append(
							receivedMsg[0] +"님이 종료 하셨습니다."+
									System.getProperty("line.separator"));
					mc.getJta().setCaretPosition(
							mc.getJta().getDocument().getLength());
				}
			}
			
			// 채팅창 비우기 키워드
			// MultiClient에서 받은 1번째 문자열이 /clear라면
			else if(receivedMsg[1].equals("/clear")) {
				// 채팅창을 공백으로 만듬
				mc.getJta().setText("  ");
			}
			// 공지사항 키워드
			// MultiClient에서 받은 1번째 문자열이 notice라면
			else if(receivedMsg[1].equals("notice")) {
				// MultiClient에서 받은 1번째 문자열을 공지사항 부분에 추가한다.
            	mc.setNotice(receivedMsg[2]);
            }
			// 강퇴 키워드
			// MultiClient에서 받은 1번째 문자열이 kick라면
			else if (receivedMsg[1].equals("kick")) {
				// MultiClient의 exit()로 보내서 프로그램을 종료한다.
            	mc.exit();
            }
			// 채팅창에 메시지 전송 키워드
			else{    
				mc.getJta().append(
						receivedMsg[0] +" : "+receivedMsg[1]+
						System.getProperty("line.separator"));
				mc.getJta().setCaretPosition(
						mc.getJta().getDocument().getLength());
			}			
		}
	}
}